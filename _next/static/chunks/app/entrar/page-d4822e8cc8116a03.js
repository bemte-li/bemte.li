(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[791],{3770:function(e,s,t){Promise.resolve().then(t.bind(t,8727))},8727:function(e,s,t){"use strict";t.r(s);var r=t(7437),n=t(2265),o=t(6088);s.default=()=>{let[e,s]=(0,n.useState)(""),[t,a]=(0,n.useState)(""),{signInWithEmail:l}=(0,o.K)(),i=async s=>{s.preventDefault(),await l(e,t)},d=e=>{"Enter"===e.key&&i(e)};return(0,n.useEffect)(()=>(document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}),[e,t]),(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,r.jsxs)("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded shadow-md",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Login"}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:i,children:[(0,r.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,r.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-3 py-2 border border-gray-300 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Email address",value:e,onChange:e=>s(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"relative block w-full px-3 py-2 border border-gray-300 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Password",value:t,onChange:e=>a(e.target.value)})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",className:"relative flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md group hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign in"})})]})]})})}},6088:function(e,s,t){"use strict";t.d(s,{K:function(){return l},UserContextProvider:function(){return i}});var r=t(7437),n=t(2265),o=t(9261);let a=(0,n.createContext)({}),l=()=>(0,n.useContext)(a),i=e=>{let{children:s}=e,[t,l]=(0,n.useState)(null),[i,d]=(0,n.useState)(!0),[c,u]=(0,n.useState)(!1),[m,f]=(0,n.useState)(null),[h,p]=(0,n.useState)(!1),x=new o.ZP("http://127.0.0.1:8090");(0,n.useEffect)(()=>{(async function(){await x.collection("usuarios").authRefresh().then(e=>{l(e.record.id)}).catch(e=>{throw e})})().catch(e=>{w(!0),console.log(e)}).finally(()=>{d(!1),p(!h)})},[]);let g=async(e,s)=>{d(!0),await x.collection("usuarios").authWithPassword(e,s).then(e=>{l(e.record.id)}).catch(e=>{f(e),console.log(e)}).finally(()=>{d(!1)})},w=e=>{x.authStore.clear(),l(null),e&&null!==e||alert("Sess\xe3o encerrada com sucesso")},y=async e=>{d(!0),await x.collection("usuarios").create(e).then(e=>{l(e.record.id)}).catch(e=>{f(e),console.log(e)}).finally(()=>{d(!1)})};return(0,r.jsx)(a.Provider,{value:{user:t,loading:i,componentLoading:c,error:m,reload:h,client:x,setLoading:d,setComponentLoading:u,setReload:p,signInWithEmail:g,createAccount:y,logout:w},children:s})}}},function(e){e.O(0,[261,971,117,744],function(){return e(e.s=3770)}),_N_E=e.O()}]);